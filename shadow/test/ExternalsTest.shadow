import shadow:natives;
import shadow:io;

class shadow:test@ExternalsTest
{
	private readonly extern __ShadowExternalTest_PrintfToString(ExternalsTest ref) => ();

	private readonly extern __ShadowExternalTest_CreateArray() => ();

	private readonly extern __ShadowExternalTest_InitPointer(int start) => (Pointer);
	private readonly extern __ShadowExternalTest_PrintPointerData(ExternalsTest instance, Pointer ptr) => ();
	
	immutable Pointer ptr;
	int offset = 1000;
	
	public create()
	{
		ptr = __ShadowExternalTest_InitPointer(2500);
	}
	
	public main(String[] args) => ()
	{
		__ShadowExternalTest_PrintfToString(this);
		__ShadowExternalTest_CreateArray();
		__ShadowExternalTest_PrintPointerData(this, ptr);
	}
	
	public readonly toString() => (String)
	{
		return "ExternalsTest returning a String";
	}
	
	private extern _shadowExternalsTest_PrintNumberWithOffset(int number) => ()
	{
		Console.printLine(number + offset);
	}
	
	public destroy
	{
		ptr.free();
	}
}
